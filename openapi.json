{
  "openapi": "3.0.1",
  "info": {
    "version": "0.0.1",
    "title": "xga-aws-bontravail-API",
    "description": "API Aggregation de données SIGMA-P",
    "contact": {
      "name": "Equipe SIGMA-P",
      "email": "supportSSA@hydroquebec.com"
    },
    "x-createdBy": {
      "createdBy": "Badr LAAJALI",
      "application": "SSA-Inspection",
      "status": "DRAFT"
    }
  },
  "servers": [
    {
      "url": "xfq-inspection-dev.sansauth.oe-int-dev-apps.hydro.qc.ca{basePath}",
      "variables": {
        "basePath": {
          "default": "/ssa/v1/"
        }
      }
    }
  ],
  "paths": {
    "/bontravail:recherche": {
      "get": {
        "tags": [
          "AggregationBonTravail"
        ],
        "operationId": "ListeSommaireBonTravail",
        "summary": "Récuperer le sommaire d`une liste de bon de travail avec un ensemble de critéres de recherche",
        "parameters": [
          {
            "name": "identifiantBonTravail",
            "description": "Identifiant du bon de travail",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "statutBonTravail",
            "description": "Statut du bon de travail",
            "required": false,
            "in": "query",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "dateDebut",
            "description": "La date de début pour le filtre date",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "dateFin",
            "description": "La date de fin pour le filtre date (non renseigne pour le filtre Date par jour)",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "matriculeUtilisateur",
            "description": "Matricule de l'utilisateur pour récuperer ces BTs",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Liste de bon de travail avec les filtres applique",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "bonTravail": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/BonTravail"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/periode": {
      "get": {
        "tags": [
          "PeriodePlanification"
        ],
        "operationId": "PeriodeActif",
        "summary": "Récuperer la période de planification actif",
        "responses": {
          "200": {
            "description": "Information sur la période actif",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "periode": {
                      "type": "object",
                      "properties": {
                        "dateDebut": {
                          "type": "string"
                        },
                        "dateFin": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "BonTravail": {
        "description": "Modele sommaire du bon de travail",
        "type": "object",
        "properties": {
          "numeroBonTravail": {
            "type": "string",
            "description": "Numero du bon de travail au niveau de SIGMA-P",
            "example": "TRAV7564234"
          },
          "description": {
            "type": "string",
            "description": "Description courte du bon de travail"
          },
          "statut": {
            "type": "string",
            "description": "Statut de l'inspection",
            "maxLength": 25
          },
          "nombreTacheTotal": {
            "type": "string",
            "description": "Nombre total des tâches dans le BT"
          },
          "nombreTacheRealise": {
            "type": "string",
            "description": "Indique le nombre des tâches réaliser dans le BT"
          },
          "dateDebut": {
            "description": "Date de début du bon de travail",
            "type": "string",
            "format": "date-time"
          },
          "dateFin": {
            "description": "Date de fin du bon de travail",
            "type": "string",
            "format": "date-time"
          },
          "priorite": {
            "description": "Priorite de realisation du bon de travail",
            "type": "string"
          },
          "telecharger": {
            "description": "Indique si le BT à ete telecharger sur la tablette par l'utilisateur",
            "type": "string"
          },
          "favoris": {
            "description": "Indique si l'utilisateur a ajouter ce BT dans ca plannification",
            "type": "string"
          }
        }
      }
    }
  }
}